<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>JDFTx: Density of states</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="jdftx-55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">JDFTx
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('DOS.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Density of states </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>In this section, we'll learn how to calculate the total density of states (both local and total) using JDFTx.</p>
<h2>Total Density of States &ndash; Silicon </h2>
<p>The first system we will look at is Silicon. Silicon is a semiconductor with a diamond lattice. Here is the input file: </p><pre class="fragment">#---------------- Total DOS of Silicon ------------------
lattice \
    0   0.5 0.5 \
    0.5 0   0.5 \
    0.5 0.5 0

latt-scale 10.263 10.263 10.263

ion-species Si.fhi

coords-type lattice    
ion Si  0.125  0.125  0.125 0
ion Si -0.125 -0.125 -0.125 0

kpoint-folding 12 12 12

elec-ex-corr gga

dump-name silicon.$VAR

density-of-states Total
</pre><p>As you see, there is very little you have to change in the input file to do a <a class="el" href="classDOS.html" title="(Weighted-) density of states calculator ">DOS</a> calculation. The output, dumped into silicon.dos, will be a file of this form </p><pre class="fragment">"Energy"    "Total"
-2.452595908623653e-01      0.000000000000000e+00
-2.452595908623653e-01      1.985389076965883e-01
-2.419416664205766e-01      5.967466162011501e-01
-2.419393745011055e-01      2.951626975536481e+00
-2.408308695225579e-01      2.978328525183836e+00
-2.364378672160734e-01      3.417438729805059e+00
-2.364352613843460e-01      4.748327506650917e+00
-2.331377289563245e-01      5.073314563854836e+00
-2.331331085433860e-01      5.494152954370364e+00
-2.320892138049616e-01      5.218672040590314e+00
.                       .
.                       .
.                       .
</pre><p>The first line in the file is a header. It tells you what is in each column. In this case, the first column is the energy (in Hartree) and the second one is the density of states (per Hartree) at that energy.</p>
<p>Here is a plot of what we got:</p>
<div class="image">
<img src="https://sourceforge.net/p/jdftx/wiki/DOS_Images/attachment/DOS_Si.png"  height="412.5px" width="550px"/>
</div>
<p>The density of states is properly normalized. If you integrate it, you will get the total number of bands in your calculation. If you are using the density of electrons (i.e. <em>Occupied <a class="el" href="classDOS.html" title="(Weighted-) density of states calculator ">DOS</a></em>, see next paragraph), the integral will give you the total number of electrons.</p>
<p>Here is an important detail: Unless you specify otherwise, JDFTx will output the density of <em>states</em>, not the density of <em>electrons</em>. For fully occupied bands, they are the same. But if you have empty bands in your calculation, the density of electrons can be different from the density of states. In such cases, you can use </p><pre class="fragment">density-of-states Occupied Total
</pre><p>to get the density of electrons at each energy.</p>
<h2>Local Density of States &ndash; p orbitals in Graphene </h2>
<p>In JDFTx, calculating the local density of states is as easy as calculating the total one!</p>
<p>In this exercise, we will calculate the occupied local density of states of graphene. If you don't know what graphene is, here is the wikipedia page: <a href="http://en.wikipedia.org/wiki/Graphene">http://en.wikipedia.org/wiki/Graphene</a></p>
<p>Graphene is a 2D material, meaning that all atoms lie in a 2D plane. Because of this, the in-plane p orbital (px and py) are different than out-of-plane p orbital. We can see this very easily by projecting the <a class="el" href="classDOS.html" title="(Weighted-) density of states calculator ">DOS</a> to these orbitals in each atom.</p>
<p>Here is the input file that does this. We'll use a dense (24x24x1) kpoint sampling to get a good, high-resolution, density of states. </p><pre class="fragment">lattice \
0.5                  0.5                0 \
-0.866025403784439   0.866025403784439  0 \
0                    0                  1    

latt-scale 4.649 4.649 20 # This just scales each lattice vector.
                          # latt-scale-z is high to avoid interlayer interactions

ion-species C.fhi

coords-type lattice
ion C 0 0 0    0
ion C 0.33333333333 0.66666666667 0   0

dump-name graphene.$VAR

kpoint-folding 24 24 1 # Since the material is 2D, we don't need k-point in z

elec-ex-corr gga

density-of-states \
    Total \
    Orbital  C 1   s \ 
    Orbital  C 1   px \
    Orbital  C 1   py \
    Orbital  C 1   pz \
</pre><p>If you look at the <em>density-of-states</em> command, you will see that it is now made up from multiple lines. Each line adds another column in the graphene.dos file. In this case, we have added the s, px, py and pz orbitals of the 1st carbon atom. Lets plot the p orbitals (columns 3 to 5):</p>
<div class="image">
<img src="https://sourceforge.net/p/jdftx/wiki/DOS_Images/attachment/graphene_DOS.png"  height="412.5px" width="550px"/>
</div>
<p>As you can see, pz orbital has greater contributions to higher energy bands than the in-plane px and py orbitals. This is an expected result. The in-plane p orbitals form <a href="http://en.wikipedia.org/wiki/Sigma_bond">sigma bonds</a> whereas the out-of-plane pz orbitals from a <a href="http://en.wikipedia.org/wiki/Pi_bond">pi bonds</a>.</p>
<p>Here is a fun mental exercise: According to this calculation, px and py are very similar, but not exactly equivalent. Since they are both in-plane, shouldn't they be equivalent? (Hint: What symmetries does graphene have in-plane?)</p>
<p>The local density of states is not restricted to projecting to atomic orbitals. JDFTx can also project to arbitrary regions in real-space. These options are <em>Slice</em>, <em>Sphere</em>, <em>AtomSlice</em>, <em>AtomSphere</em> and <em>File</em>. You can look at the template (jdftx -t) to see how they are used.</p>
<h2>Tips &amp; Tricks </h2>
<p>If you are a <a href="http://www.gnuplot.info/">gnuplot</a> user, it is very simple to plot JDFTx .dos files! In general only 2 lines of code suffice! For example, the graphene example can be plotted using </p><pre class="fragment">set key autotitle columnhead
plot for [i=4:6] "silicon.dos" u 1:i w l
</pre><p>If you are interested in how the density of states is computed, check out this reference: <a href="http://onlinelibrary.wiley.com/doi/10.1002/pssb.2220540211/abstract">http://onlinelibrary.wiley.com/doi/10.1002/pssb.2220540211/abstract</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jan 26 2017 13:18:59 for JDFTx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
